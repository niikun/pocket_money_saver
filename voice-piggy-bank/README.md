# 🐷 音声貯金箱アプリ

子供が楽しく貯金できる音声対話型アプリです。貯金額に応じて可愛い動物が進化します！

## ✨ 主な機能

- 🎤 **音声認識**: 「100円貯金した」「50円お菓子に使った」などの自然な日本語を理解
- 🎵 **可愛い音声**: OpenAI APIで自然で可愛い女性の声（novaボイス）
- 🐣 **動物の進化**: 貯金額に応じて🥚→🐣→🐶→🐺→🦁→🐉へ進化
- 💾 **データ保存**: ブラウザにデータを自動保存
- 📱 **レスポンシブ**: スマホ・タブレット対応

## 🚀 クイックスタート

```bash
# プロジェクトを開く
cd voice-piggy-bank

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm start
```

ブラウザで http://localhost:3000 を開いて楽しもう！

## 🎵 可愛い音声の設定（推奨）

OpenAI APIを使用すると、とても自然で可愛い女性の声になります：

1. [OpenAI Platform](https://platform.openai.com/)でAPIキーを取得
2. `.env`ファイルを作成：
```bash
REACT_APP_OPENAI_API_KEY=your_api_key_here
REACT_APP_VOICE_NAME=nova
```
3. アプリを再起動

詳細は [SETUP_OPENAI.md](./SETUP_OPENAI.md) をご覧ください。

## 🎮 使い方

1. **🎤ボタン**をクリックして音声認識開始
2. 話しかける例：
   - 「100円貯金した」
   - 「50円お菓子に使った」
   - 「いくら貯まった？」
3. 動物が可愛い声で返事してくれます
4. 貯金額が増えると動物が進化！

## 🐉 進化システム

| 貯金額 | 動物 | 説明 |
|--------|------|------|
| 0円〜 | 🥚 たまご | まだ生まれていません |
| 100円〜 | 🐣 ひよこ | 元気いっぱいの赤ちゃん！ |
| 500円〜 | 🐶 こいぬ | 活発に動き回ります |
| 1000円〜 | 🐺 おおかみ | 賢くて強くなりました |
| 2000円〜 | 🦁 ライオン | 百獣の王になりました！ |
| 5000円〜 | 🐉 ドラゴン | 伝説の存在です！ |

## 🧪 テスト機能

音声認識がうまく動かない場合は、テストボタンで動作確認できます：
- 🧪 100円テスト
- 🧪 50円使うテスト  
- 🧪 質問テスト

## 🛠️ 技術スタック

- **React** + **TypeScript**: モダンなフロントエンド
- **Framer Motion**: 滑らかなアニメーション
- **Web Speech API**: 音声認識
- **OpenAI TTS API**: 自然な音声合成
- **LocalStorage**: データ永続化

## 📁 プロジェクト構造

```
src/
├── components/
│   └── AnimalCharacter.tsx    # 動物キャラクターコンポーネント
├── utils/
│   ├── evolutionSystem.ts     # 進化システム
│   ├── speechUtils.ts         # 音声認識
│   └── openaiSpeech.ts        # OpenAI音声合成
├── App.tsx                    # メインアプリ
└── App.css                    # スタイル
```

## 🐛 トラブルシューティング

### 音声認識が動かない
- ブラウザでマイクのアクセス許可を確認
- HTTPSまたはlocalhostで実行されているか確認

### 音声が出ない
- ブラウザで音声の自動再生が許可されているか確認
- 開発者ツール（F12）のコンソールでエラーを確認

### OpenAI音声が使えない
- `.env`ファイルにAPIキーが正しく設定されているか確認
- APIキーの残高を確認
- 自動的にブラウザ音声にフォールバックされます

## 🌟 今後の拡張予定

- [ ] 目標貯金額設定機能
- [ ] 貯金履歴グラフ
- [ ] 複数のキャラクター選択
- [ ] 親向け管理画面
- [ ] 音声コマンドの拡張

## 📄 ライセンス

MIT License

---

楽しい貯金体験をお楽しみください！🎉